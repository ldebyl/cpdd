CPDD(1)                           User Commands                          CPDD(1)

NNAAMMEE
       cpdd - copy files with content-based deduplication

SSYYNNOOPPSSIISS
       ccppdddd [_O_P_T_I_O_N_S] _S_O_U_R_C_E... _D_E_S_T_I_N_A_T_I_O_N

DDEESSCCRRIIPPTTIIOONN
       ccppdddd is a file copy utility that provides content-based deduplication by
       linking to identical files in a reference directory. It performs
       efficient three-stage matching: file size comparison, MD5 checksum
       verification, and byte-by-byte content comparison.

       When a reference directory is specified, files with identical content are
       linked (hard or symbolic) rather than copied, saving disk space and
       preserving storage efficiency.

OOPPTTIIOONNSS
       --rr, ----rreeffeerreennccee _D_I_R
              Use _D_I_R as reference directory for content-based linking. Files in
              _S_O_U_R_C_E that match content in _D_I_R will be linked instead of copied.
              Defaults to hard links.

       --LL, ----hhaarrdd--lliinnkk
              Create hard links to reference files when content matches. This is
              the default when a reference directory is specified.

       --ss, ----ssyymmbboolliicc--lliinnkk
              Create symbolic links to reference files when content matches.

       --RR, ----rreeccuurrssiivvee
              Copy directories recursively.

       --nn, ----nnoo--cclloobbbbeerr
              Never overwrite existing files.

       --ii, ----iinntteerraaccttiivvee
              Prompt before overwriting existing files.

       --pp     Preserve file attributes (equivalent to
              ----pprreesseerrvvee==mmooddee,,oowwnneerrsshhiipp,,ttiimmeessttaammppss).

       ----pprreesseerrvvee[=_A_T_T_R___L_I_S_T]
              Preserve specified file attributes. If no _A_T_T_R___L_I_S_T is given,
              preserves mode, ownership, and timestamps. Available attributes:

              •   mmooddee - file permissions

              •   oowwnneerrsshhiipp - user and group ownership

              •   ttiimmeessttaammppss - access and modification times

              •   aallll - all of the above

       ----ssttaattss
              Display statistics after the copy operation, including number of
              files copied, linked, and skipped.

       --hh, ----hhuummaann--rreeaaddaabbllee
              Show file sizes in human-readable format (K, M, G) in statistics
              and verbose output.

       --vv, ----vveerrbboossee
              Verbose output showing files being processed and their
              disposition.

       ----hheellpp Display help message and exit.

EEXXAAMMPPLLEESS
       BBaassiicc ffiillee ccooppyy::
              cpdd file1.txt file2.txt /dest/

       RReeccuurrssiivvee ddiirreeccttoorryy ccooppyy::
              cpdd -R src1/ src2/ /dest/

       CCooppyy wwiitthh hhaarrdd lliinnkk ddeedduupplliiccaattiioonn::
              cpdd -r /reference/ -R -v source/ /dest/

       CCooppyy wwiitthh ssyymmbboolliicc lliinnkk ddeedduupplliiccaattiioonn::
              cpdd -r /reference/ -s --stats source/ /dest/

       IInntteerraaccttiivvee ccooppyy pprreesseerrvviinngg aattttrriibbuutteess::
              cpdd -i -p -R src/ dest/

FFIILLEE MMAATTCCHHIINNGG AALLGGOORRIITTHHMM
       ccppdddd uses a three-stage matching process for efficient deduplication:

       1.  SSiizzee ccoommppaarriissoonn - Files must have identical size to be considered for
           matching.

       2.  MMDD55 cchheecckkssuumm - Only calculated for files with non-unique sizes in the
           reference directory, providing an efficient pre-filter.

       3.  BByyttee--bbyy--bbyyttee ccoommppaarriissoonn - Final verification ensures content is truly
           identical before linking.

           This approach minimizes expensive I/O operations while guaranteeing
           correctness.

EEXXIITT SSTTAATTUUSS
       ccppdddd exits with status 0 on success, 1 on error.

FFIILLEESS
       No configuration files are used.

NNOOTTEESS
       Hard links can only be created between files on the same filesystem. If
       hard linking fails, ccppdddd will fall back to copying the file normally.

       Symbolic links contain the path to the target file and can span
       filesystems, but may break if the reference directory is moved or
       deleted.

BBUUGGSS
       Report bugs at: https://github.com/32kb-net/cpdd/issues

AAUUTTHHOORR
       Written by Lee de Byl <lee@32kb.net>.

CCOOPPYYRRIIGGHHTT
       Copyright © 2025 Lee de Byl. Licensed under the MIT License.  This is
       free software: you are free to change and redistribute it.  There is NO
       WARRANTY, to the extent permitted by law.

SSEEEE AALLSSOO
       ccpp(1), rrssyynncc(1), llnn(1), ffiinndd(1), mmdd55ssuumm(1)

cpdd                                  2025                               CPDD(1)
